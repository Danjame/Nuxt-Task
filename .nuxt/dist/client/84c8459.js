(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{258:function(t,e,r){"use strict";r.r(e);r(30),r(13),r(43);var n=r(41),l=(r(29),r(3)),o=r(60),c=r(187),f=r.n(c),d={middleware:"authenticated",name:"profile",data:function(){return{followDisabaled:!1}},asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var r,l,c,d,v,m,w,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.prev=1,e.next=4,Promise.all([Object(o.k)(r.username),Object(o.h)({favorited:"jake"})]);case 4:return l=e.sent,c=Object(n.a)(l,2),d=c[0],v=c[1],m=d.data.profile,w=v.data.articles,_=new f.a,w.forEach((function(article){return article.body=_.render(article.body)})),e.abrupt("return",{profile:m,articles:w});case 15:throw e.prev=15,e.t0=e.catch(1),new Error("fail");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))()},methods:{followHandler:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,data,n,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.followDisabaled=!0,!t.profile.following){e.next=9;break}return e.next=4,Object(o.o)(t.profile.username);case 4:r=e.sent,data=r.data,t.profile.following=data.profile.following,e.next=14;break;case 9:return e.next=11,Object(o.f)(t.profile.username);case 11:n=e.sent,l=n.data,t.profile.following=l.profile.following;case 14:t.followDisabaled=!1;case 15:case"end":return e.stop()}}),e)})))()}}},v=r(20),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"profile-page"},[r("div",{staticClass:"user-info"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[r("img",{attrs:{src:t.profile.image}}),t._v(" "),r("h4",[t._v(t._s(t.profile.username))]),t._v(" "),r("p",[t._v(t._s(t.profile.bio))]),t._v(" "),r("button",{staticClass:"btn btn-sm btn-outline-secondary action-btn",class:{active:t.profile.following},attrs:{disabled:t.followDisabaled},on:{click:function(e){return t.followHandler()}}},[r("i",{staticClass:"ion-plus-round"}),t._v("\n            Â \n            Follow "+t._s(t.profile.username)+"\n          ")])])])])]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[t._m(0),t._v(" "),t._l(t.articles,(function(article,e){return r("div",{key:e,staticClass:"article-preview"},[r("div",{staticClass:"article-meta"},[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[r("img",{attrs:{src:article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:article.author.username}}}},[t._v(t._s(article.author.username))]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(article.createdAt,"MMM DD, YYYY")))])],1),t._v(" "),r("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right"},[r("i",{staticClass:"ion-heart"}),t._v("\n              "+t._s(article.favoritesCount)+"\n            ")])],1),t._v(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:article.slug}}},domProps:{innerHTML:t._s(article.body)}},[r("span",[t._v("Read more...")])])],1)}))],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"articles-toggle"},[e("ul",{staticClass:"nav nav-pills outline-active"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{href:""}},[this._v("My Articles")])])])])}],!1,null,null,null);e.default=component.exports}}]);